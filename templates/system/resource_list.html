<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
	<link rel="stylesheet" type="text/css" href="../../static/css/system/resourcelist.css">
	<title>资源管理</title>
</head>
<style>
	.custom-tree-node {
		flex: 1;
		display: flex;
		align-items: center;
		justify-content: space-between;
		font-size: 14px;
		padding-right: 8px;
	}
</style>

<body class="fw f14 main-index-body">
	<div id="app">
		<div class="main-box">
				<div class="main-container">
				<div id="lib :: main_container_header('资源管理','资源管理')"></div>
				<!-- 面包屑 -->
				<div id="breadcrumb_box"></div>
				<div class="frame" >
					<div class="frame_left" style="background-color:#F5FAFC;">
						<div><h5 class="src_name">资源树 
								<el-button type="text" @click="appendParent">+</el-button>
							</h5>
						</div>
						<div scroll="no" class="src_slt">			
							<el-tree
									:data="tableData"
									node-key="resourceid"
									:props="defaultProps"
									:render-content="renderContent"
									@node-click="handleNodeClick"
									:highlight-current = true
									style="background-color:#F5FAFC; font-weight:bold; width:100%; font-weight:100px; border:none; line-height: 40px; margin-top: 10px;"
								>
							</el-tree>
						</div>
					</div>
					<div class="frame_right" scroll="no" style="background-color:#F5FAFC;">
						<h5 class="src_name">资源树详情</h5>
						<el-from label-width="100px">
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">资源名称</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.resourcename" clearable maxlength="100">
								</el-input> 
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">资源描述</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.resourceinfo" clearable maxlength="100"></el-input>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">父资源</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.parentid" clearable maxlength="32"></el-input>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">顺序</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.seqno" clearable></el-input>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">图标地址</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.icon" clearable maxlength="100"></el-input>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">资源类型</label>
								<el-select size="small" v-model="resourceForm.type" placeholder="请选择" class="searchSelect" clearable>
									<el-option v-for="item in typeData" :key="item.codeValue" :label="item.codeName" :value="item.codeValue"></el-option>
								</el-select>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel" style="width: 135px;">权限列表</label>
								<el-checkbox-group v-model="permissionDetailSelect" :max="1" class="editSelect">
									<el-checkbox v-for="permission in allPermissionList" :label="permission.permissionid" :key="permission.permissionid">{{permission.permissioninfo}}</el-checkbox>
								</el-checkbox-group>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">创建人</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.createName" :disabled="true"></el-input>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">创建时间</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.createTime" :disabled="true"></el-input>
							</el-col>
							<!--
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">修改人</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.alterName" :disabled="true"></el-input>
							</el-col>
							<el-col :span="23" class="searchInline">
								<label class="el-form-item__label searchLabel">修改时间</label>
								<el-input size="small"  placeholder="请输入内容" v-model="resourceForm.alterTime" :disabled="true"></el-input>
							</el-col>
							-->
							<el-col class="mt35 mb20">
								<el-row>
									<el-col :span="24" style="text-align: center">
										<el-button type="clear" icon="close" size="small" @click="cancel">取消</el-button>
										<el-button type="success" icon="check" size="small" @click="update">保存</el-button>
									</el-col>
								</el-row>
							</el-col>
						</el-from>
					</div>
					<!--新建界面-->
					<el-dialog title="资源新增" :visible.sync="addVisible" @close="closeDialog()" :close-on-click-modal="false">
						<el-form :model="addForm" label-width="120px" ref="addForm" :rules="addFormRules">
							<el-row>
								<el-col :span="23" class="searchInline">
									<el-form-item label="资源名称" prop="resourcename">
										<el-input size="small" v-model="addForm.resourcename" placeholder="资源名称" auto-complete="off" clearable maxlength="100"></el-input>
									</el-form-item>
								</el-col>
							</el-row>
							<el-row>
								<el-col :span="23" class="searchInline">
									<el-form-item label="资源描述" prop="resourceinfo">
										<el-input size="small" v-model="addForm.resourceinfo" placeholder="资源描述" auto-complete="off" clearable maxlength="100"></el-input>
									</el-form-item>
								</el-col>
							</el-row>
							<el-row>
								<el-col :span="23" class="searchInline">
									<el-form-item label="图标地址" prop="icon">
										<el-input size="small" v-model="addForm.icon" placeholder="图标地址" auto-complete="off" clearable maxlength="100"></el-input>
									</el-form-item>
								</el-col>
							</el-row>
							<!--
							<el-col :span="23" class="searchInline">
								<el-form-item label="顺序" prop="seqno">
									<el-input size="small" v-model="addForm.seqno" placeholder="顺序" auto-complete="off"></el-input>
								</el-form-item>
							</el-col>
							-->
							<el-row>
								<el-col :span="23" class="searchInline">
									<el-form-item label="资源类型" prop="type">
										<el-select size="small" v-model="addForm.type" placeholder="请选择" class="searchSelect" clearable>
											<el-option v-for="item in typeData" :key="item.codeValue" :label="item.codeName" :value="item.codeValue"></el-option>
										</el-select>
									</el-form-item>
								</el-col>
							</el-row>
							<el-row>
								<el-col :span="23" class="searchInline">
									<el-form-item label="权限列表" prop="permission">
										<el-checkbox-group v-model="addForm.permissions" :max="1">
											<el-checkbox v-for="permission in allPermissionList" :label="permission.permissionid" :key="permission.permissionid">{{permission.permissioninfo}}</el-checkbox>
										</el-checkbox-group>
									</el-form-item>
								</el-col>
							</el-row>
							<el-row class="mt35 mb20">
								<el-col :span="24" style="text-align: center">
									<el-button type="clear" icon="close" size="small" class="btn_submit" @click="closeDialog(addForm)"> 取消</el-button>
									<el-button type="success" icon="check" size="small" class="btn_save" @click="checkAdd(addForm)">保存</el-button>
								</el-col>
							</el-row>
						</el-form>
					</el-dialog>
				</div>
			</div>
		</div>
	</div>
</body>
<script src="../../static/js/common/config.js"></script>
<script src="../../static/js/system/resource.js"></script>
</html>